<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Family Taboo Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }

    .container {
      margin-top: 20px;
      width: 95%;
      max-width: 480px;
    }

    .header {
      text-align: center;
      margin-bottom: 10px;
    }

    .header h1 {
      font-size: 22px;
      margin: 0;
    }

    .mode-select {
      display: flex;
      gap: 6px;
      justify-content: center;
      margin: 10px 0 20px;
      flex-wrap: wrap;
    }

    .mode-select button {
      padding: 6px 10px;
      border-radius: 16px;
      border: 1px solid #007aff;
      background: white;
      color: #007aff;
      font-size: 12px;
    }

    .mode-select button.active {
      background: #007aff;
      color: white;
    }

    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.12);
      padding: 16px 18px;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .name {
      text-align: center;
      font-weight: 700;
      font-size: 26px;
      margin-bottom: 12px;
    }

    .taboos {
      list-style: none;
      padding: 0;
      margin: 0 0 10px;
      font-size: 18px;
    }

    .taboos li {
      margin: 4px 0;
    }

    .note {
      text-align: center;
      font-size: 14px;
      color: #555;
      margin-top: 4px;
    }

    .footer {
      margin-top: 16px;
      display: flex;
      justify-content: center;
      gap: 12px;
    }

    .footer button {
      padding: 10px 20px;
      border-radius: 22px;
      border: none;
      background: #ff2d55;
      color: #fff;
      font-size: 16px;
    }

    .small {
      text-align: center;
      margin-top: 6px;
      font-size: 11px;
      color: #777;
    }

    .timer {
      margin-top: 10px;
      text-align: center;
      font-size: 18px;
      font-weight: 600;
    }

    .timer span {
      padding: 4px 10px;
      border-radius: 16px;
      background: #fff3cd;
      border: 1px solid #ffeeba;
      display: inline-block;
      min-width: 80px;
    }

    .timer span.red {
      background: #f8d7da;
      border-color: #f5c6cb;
      color: #c82333;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Family Taboo Game</h1>
    </div>

    <div class="mode-select">
      <button id="mode-all" class="active">All</button>
      <button id="mode-bollywood">Bollywood</button>
      <button id="mode-mythology">Mythology</button>
      <button id="mode-nine">Kids 9+ Taboo</button>
      <button id="mode-six">Kids 6+ Simple</button>
    </div>

    <div class="card">
      <div>
        <div id="card-name" class="name">Loading…</div>
        <ul id="card-taboos" class="taboos"></ul>
        <div id="note" class="note"></div>
      </div>
      <div class="small" id="counter"></div>
    </div>

    <div class="timer">
      <span id="timer-display">30 s</span>
    </div>

    <div class="footer">
      <button id="prev-btn">◀ Prev</button>
      <button id="next-btn">Next ▶</button>
    </div>
  </div>

  <script>
    // =============== DATA ===============

    const bollywoodCards = [
      { name: "Shah Rukh Khan", taboos: ["Bollywood","Romance","King Khan","DDLJ"] },
      { name: "Naseeruddin Shah", taboos: ["Parallel cinema","A Wednesday","Theatre","Masoom"] },
      { name: "Kamal Haasan", taboos: ["Tamil","Vishwaroopam","Actor-director","Nayakan"] },
      { name: "Raj Kapoor", taboos: ["Showman","Charlie Chaplin","Mera Naam Joker","RK Films"] },
      { name: "Govinda", taboos: ["Comedy","Dance","No. 1","David Dhawan"] },
      { name: "Neelam", taboos: ["Govinda","Ilzaam","80s","Actress"] },
      { name: "Kajol", taboos: ["SRK","DDLJ","K3G","Actress"] },
      { name: "Raveena Tandon", taboos: ["Tip Tip","Akshay Kumar","90s","Mohra"] },
      { name: "Anil Kapoor", taboos: ["Jhakaas","Slumdog","Mustache","Mr. India"] },
      { name: "Sanjeev Kumar", taboos: ["Thakur","Sholay","Versatile","9 roles"] },
      { name: "Dev Anand", taboos: ["Black coat","Guide","Evergreen","Navketan"] },
      { name: "Amitabh Bachchan", taboos: ["Angry Young Man","KBC","Sholay","Big B"] },
      { name: "Kareena Kapoor", taboos: ["Poo","Jab We Met","Saif","Kapoor family"] },
      { name: "Irrfan Khan", taboos: ["Lunchbox","Hollywood","Talvar","Natural acting"] },
      { name: "Akshay Kumar", taboos: ["Khiladi","Stunts","Comedy","Canada"] },
      { name: "Rajesh Khanna", taboos: ["First Superstar","Anand","Aradhana","Kaka"] },
      { name: "Aamir Khan", taboos: ["Perfectionist","Lagaan","3 Idiots","Dangal"] },
      { name: "Salman Khan", taboos: ["Bhai","Dabangg","Being Human","Eid"] },
      { name: "Sridevi", taboos: ["Chandni","Hawa Hawai","English Vinglish","Superstar"] },
      { name: "Madhuri Dixit", taboos: ["Dhak Dhak","Dance","HAHK","Smile"] },
      { name: "Tabu", taboos: ["Andhadhun","Haider","Talented","Serious roles"] },
      { name: "Alia Bhatt", taboos: ["SOTY","Ranbir","Raazi","Young star"] },
      { name: "Deepika Padukone", taboos: ["Padmavat","Ranveer","OSO","Tall"] },
      { name: "Madhubala", taboos: ["Mughal-e-Azam","Beauty","Anarkali","Classic"] },
      { name: "Hema Malini", taboos: ["Dream Girl","Basanti","Dharmendra","Actress"] },
      { name: "Shabana Azmi", taboos: ["Art cinema","Fire","Parallel","Activist"] },
      { name: "Smita Patil", taboos: ["Arth","Parallel cinema","Prakash Jha","Intense roles"] },
      { name: "Meena Kumari", taboos: ["Tragedy Queen","Pakeezah","Ghazals","Melodrama"] },
      { name: "Waheeda Rehman", taboos: ["Guide","Guru Dutt","Classical","Actress"] },
      { name: "Rekha", taboos: ["Umrao Jaan","Evergreen","Glamour","Amitabh"] },
      { name: "Sharmila Tagore", taboos: ["Kashmir Ki Kali","Tiger Pataudi","Bengali","Graceful"] },
      { name: "Rani Mukerji", taboos: ["Black","Kajol cousin","Husky voice","90s"] },
      { name: "Anupam Kher", taboos: ["Saaransh","Kher family","Actor","NSD"] },
      { name: "Juhi Chawla", taboos: ["QSQT","Miss India","Comedy","Aamir"] },
      { name: "Jaya Bachchan", taboos: ["Guddi","Amitabh","Politician","Mother roles"] },
      { name: "Priyanka Chopra", taboos: ["Miss World","Quantico","Nick Jonas","Global star"] },
      { name: "Aishwarya Rai", taboos: ["Miss World","Blue eyes","Devdas","Beauty"] },
      { name: "Vidya Balan", taboos: ["Kahaani","Dirty Picture","Strong roles","National Award"] },
      { name: "Kangana Ranaut", taboos: ["Queen","Controversy","National Award","Opinions"] },
      { name: "Divya Bharti", taboos: ["Deewana","90s","Tragic","Rising star"] },
      { name: "Meenakshi Seshadri", taboos: ["Damini","Dance","Hero","80s"] },
      { name: "Manoj Bajpayee", taboos: ["Wasseypur","Family Man","Method","Satya"] },
      { name: "Amrish Puri", taboos: ["Mogambo","Villain","Mr. India","Voice"] },
      { name: "Nana Patekar", taboos: ["Krantiveer","Welcome","Intense","Dialogue"] },
      { name: "Kader Khan", taboos: ["Writer","Comedy","Govinda","Dialogues"] },
      { name: "Paresh Rawal", taboos: ["Hera Pheri","Baburao","Comedy","Akshay"] },
      { name: "Om Puri", taboos: ["Serious","Ardh Satya","Hollywood","Parallel"] },
      { name: "Dharmendra", taboos: ["He-Man","Sholay","Hema","Action"] },
      { name: "Boman Irani", taboos: ["3 Idiots","Virus","Comedy-drama","Character"] },
      { name: "Ashok Kumar", taboos: ["Dada Muni","Classics","Dynasty","40s"] },
      { name: "Hrithik Roshan", taboos: ["Greek God","Krrish","Dance","2000"] },
      { name: "Jackie Shroff", taboos: ["Bhidu","Hero","Tiger Shroff","80s"] },
      { name: "Manoj Kumar", taboos: ["Bharat","Patriotic","Kranti","Director"] },
      { name: "Shatrughan Sinha", taboos: ["Khamosh","Dialogue","Politician","70s"] },
      { name: "Vinod Khanna", taboos: ["AAA","Handsome","Osho","Action"] },
      { name: "Amol Palekar", taboos: ["Middle class","Golmaal","Simple","70s"] },
      { name: "Sunny Deol", taboos: ["Dhai Kilo","Gadar","Action","Dialogues"] },
      { name: "Raj Kumar", taboos: ["Jaani","Dialogue","Pakeezah","Voice"] },
      { name: "Sanjay Dutt", taboos: ["Munna Bhai","Khalnayak","Drugs","Sanju"] },
      { name: "Ranbir Kapoor", taboos: ["Rockstar","Alia","Kapoor family","Barfi"] }
    ];

    const mythologyCards = [
      { name: "Rama", taboos: ["Ayodhya","Maryada Purushottam","Sita","Bow"] },
      { name: "Ravana", taboos: ["Lanka","Ten heads","Shiva devotee","Brahmastra"] },
      { name: "Sita", taboos: ["Abduction","Mithila","Agni Pariksha","Rama"] },
      { name: "Lakshman", taboos: ["Exile","Lakshman Rekha","Bow","Rama"] },
      { name: "Bharat", taboos: ["Paduka","Nandigram","Ayodhya","Younger brother"] },
      { name: "Shatrughana", taboos: ["Twins","Kaikeyi","Younger","Brothers"] },
      { name: "Kaushalya", taboos: ["Mother","Ayodhya","Queen","Rama"] },
      { name: "Hanuman", taboos: ["Monkey","Sanjeevani","Strength","Devotion"] },
      { name: "Sugreeva", taboos: ["Monkey king","Bali","Kishkindha","Alliance"] },
      { name: "Meghnaad", taboos: ["Indrajit","Invisible","Serpents","Warrior"] },
      { name: "Yudhishthira", taboos: ["Eldest","Dharma","Dice game","Rajasuya"] },
      { name: "Bheem", taboos: ["Strength","Mace","Pandava","Rakshasa"] },
      { name: "Arjun", taboos: ["Archer","Gandiva","Krishna","Kurukshetra"] },
      { name: "Nakul", taboos: ["Handsome","Twins","Pandava","Sword"] },
      { name: "Sahadev", taboos: ["Astrology","Twins","Pandava","Wisdom"] },
      { name: "Duryodhana", taboos: ["Kaurava","Jealousy","Mace","Hastinapur"] },
      { name: "Dushasana", taboos: ["Draupadi","Disrobing","Cruel","Kaurava"] },
      { name: "Bheeshma Pitamah", taboos: ["Vow","Ganga","Bed of arrows","Kuru"] },
      { name: "Dhritarashtra", taboos: ["Blind king","Kauravas","Gandhari","Throne"] },
      { name: "Draupadi", taboos: ["Five husbands","Fire-born","Disrobing","Kurukshetra"] },
      { name: "Krishna", taboos: ["Flute","Avatar","Mathura","Arjun"] },
      { name: "Kansa", taboos: ["Mathura","Evil king","Krishna","Devaki"] },
      { name: "Parashuraam", taboos: ["Axe","Brahmin warrior","Avatar","Kshatriya"] },
      { name: "Shikhandi", taboos: ["Amba","Gender","Bhishma","Rebirth"] },
      { name: "Kunti", taboos: ["Pandavas","Surya","Karna","Mother"] },
      { name: "Shiva", taboos: ["Trishul","Kailash","Tandav","Mahadev"] },
      { name: "Brahma", taboos: ["Creator","Four heads","Saraswati","Vedas"] },
      { name: "Narad Muni", taboos: ["Veena","Messenger","Troublemaker","Sage"] },
      { name: "Parvati", taboos: ["Shiva","Shakti","Himalaya","Goddess"] },
      { name: "Durga Mata", taboos: ["Lion","Mahishasura","Nine forms","Weapons"] },
      { name: "Lakshmi Ji", taboos: ["Wealth","Vishnu","Lotus","Diwali"] },
      { name: "Ganesh Ji", taboos: ["Elephant head","Modak","Remover","Shiva/Parvati"] },
      { name: "Vishnu Ji", taboos: ["Preserver","Avatars","Sheshnag","Vaikuntha"] },
      { name: "Valmiki", taboos: ["Ramayana","Poet","Sage","Sanskrit"] },
      { name: "Ved Vyas", taboos: ["Mahabharata","Vedas","Sage","Krishna Dvaipayana"] },
      { name: "Saraswati Ji", taboos: ["Veena","Knowledge","White lotus","Vedas"] },
      { name: "Indra Dev", taboos: ["Thunderbolt","Heaven","Rain","Airavat"] },
      { name: "Agni Dev", taboos: ["Fire","Sacrifice","Flames","Rituals"] },
      { name: "Surya Dev", taboos: ["Sun","Seven horses","Light","Chariot"] },
      { name: "Varun Dev", taboos: ["Water","Oceans","Rain","Deity"] },
      { name: "Yama", taboos: ["Death","Justice","Afterlife","Dharma"] },
      { name: "Kaali Mata", taboos: ["Fierce","Dark form","Demons","Tongue"] },
      { name: "Kartikeya", taboos: ["Spear","Peacock","War god","Brother"] },
      { name: "Vaayu Dev", taboos: ["Wind","Air","Hanuman","Breath"] },
      { name: "Prahlaad", taboos: ["Bhakti","Hiranyakashipu","Narasimha","Devotee"] },
      { name: "Kama Dev", taboos: ["Love","Flower arrows","Rati","Desire"] },
      { name: "Shakuntala", taboos: ["Dushyant","Ring","Kalidasa","Forest"] },
      { name: "Vishwamitra", taboos: ["Sage","Menaka","Gayatri","Rivalry"] },
      { name: "Dronacharya", taboos: ["Teacher","Archery","Pandavas","Kauravas"] },
      { name: "Karna", taboos: ["Kavach","Surya","Friendship","Suta"] }
    ];

    // 9-year-old cards (from previous kids app)
    const nineCards = [
      { name: "Cat", taboos: ["Kitten","Meow","Whiskers","Pet"] },
      { name: "Dog", taboos: ["Puppy","Bark","Tail","Pet"] },
      { name: "School", taboos: ["Classroom","Teacher","Study","Students"] },
      { name: "Teacher", taboos: ["School","Class","Homework","Student"] },
      { name: "Friend", taboos: ["Best","Play","Buddy","Together"] },
      { name: "Pizza", taboos: ["Cheese","Slice","Toppings","Crust"] },
      { name: "Ice cream", taboos: ["Cold","Scoop","Cone","Dessert"] },
      { name: "Birthday", taboos: ["Cake","Party","Candles","Gifts"] },
      { name: "Cake", taboos: ["Frosting","Candles","Sweet","Birthday"] },
      { name: "Rainbow", taboos: ["Colors","Sky","Rain","Arc"] },

      { name: "Sun", taboos: ["Hot","Day","Bright","Sky"] },
      { name: "Moon", taboos: ["Night","Sky","Round","Light"] },
      { name: "Stars", taboos: ["Night","Twinkle","Sky","Shine"] },
      { name: "Cloud", taboos: ["White","Sky","Rain","Fluffy"] },
      { name: "Rain", taboos: ["Wet","Umbrella","Drops","Cloudy"] },
      { name: "Snow", taboos: ["White","Cold","Winter","Flakes"] },
      { name: "River", taboos: ["Water","Flow","Stream","Bank"] },
      { name: "Mountain", taboos: ["Tall","Climb","Rock","Peak"] },
      { name: "Tree", taboos: ["Leaves","Trunk","Branch","Forest"] },
      { name: "Flower", taboos: ["Petals","Garden","Smell","Plant"] },

      { name: "Book", taboos: ["Pages","Read","Story","Library"] },
      { name: "Pencil", taboos: ["Write","Sharp","Eraser","Lead"] },
      { name: "Eraser", taboos: ["Rub","Remove","Pencil","Mistake"] },
      { name: "Backpack", taboos: ["Bag","School","Books","Carry"] },
      { name: "Desk", taboos: ["Table","Chair","School","Work"] },
      { name: "Homework", taboos: ["School","Teacher","Worksheet","After"] },
      { name: "Test", taboos: ["Exam","Study","Marks","Questions"] },
      { name: "Recess", taboos: ["Break","Play","Outside","School"] },
      { name: "Playground", taboos: ["Slide","Swing","Park","Play"] },
      { name: "Swing", taboos: ["Push","Back","Forth","Seat"] },

      { name: "Football", taboos: ["Ball","Goal","Kick","Team"] },
      { name: "Basketball", taboos: ["Hoop","Bounce","Dribble","Court"] },
      { name: "Swimming", taboos: ["Pool","Water","Strokes","Goggles"] },
      { name: "Bicycle", taboos: ["Bike","Pedal","Wheels","Ride"] },
      { name: "Skipping rope", taboos: ["Jump","Rope","Feet","Game"] },
      { name: "Dance", taboos: ["Music","Move","Steps","Rhythm"] },
      { name: "Music", taboos: ["Song","Notes","Sound","Listen"] },
      { name: "Piano", taboos: ["Keys","Instrument","Music","Play"] },
      { name: "Guitar", taboos: ["Strings","Instrument","Music","Play"] },
      { name: "Song", taboos: ["Sing","Music","Lyrics","Tune"] },

      { name: "Sister", taboos: ["Girl","Sibling","Brother","Family"] },
      { name: "Brother", taboos: ["Boy","Sibling","Sister","Family"] },
      { name: "Mother", taboos: ["Mom","Parent","Lady","Family"] },
      { name: "Father", taboos: ["Dad","Parent","Man","Family"] },
      { name: "Grandma", taboos: ["Old","Mother","Grandpa","Family"] },
      { name: "Grandpa", taboos: ["Old","Father","Grandma","Family"] },
      { name: "Baby", taboos: ["Small","Cry","Diaper","Cute"] },
      { name: "Family", taboos: ["Home","Parents","Children","Together"] },
      { name: "House", taboos: ["Home","Rooms","Live","Door"] },
      { name: "Bedroom", taboos: ["Sleep","Bed","Pillow","Night"] },

      { name: "Chocolate", taboos: ["Sweet","Candy","Bar","Brown"] },
      { name: "Candy", taboos: ["Sweet","Sugar","Treat","Wrapper"] },
      { name: "Potato chips", taboos: ["Snack","Salty","Packet","Crunchy"] },
      { name: "Sandwich", taboos: ["Bread","Cheese","Lunch","Slice"] },
      { name: "Milk", taboos: ["White","Drink","Glass","Cow"] },
      { name: "Water bottle", taboos: ["Drink","Refill","Plastic","Thirsty"] },
      { name: "Juice", taboos: ["Fruit","Drink","Glass","Orange"] },
      { name: "Apple", taboos: ["Red","Fruit","Tree","Crunchy"] },
      { name: "Banana", taboos: ["Yellow","Fruit","Peel","Monkey"] },
      { name: "Mango", taboos: ["Orange","Fruit","Summer","Sweet"] },

      { name: "Train", taboos: ["Tracks","Station","Engine","Travel"] },
      { name: "Airplane", taboos: ["Wings","Fly","Airport","Pilot"] },
      { name: "Car", taboos: ["Drive","Road","Wheels","Engine"] },
      { name: "Bus", taboos: ["Big","School","Seats","Driver"] },
      { name: "Scooter", taboos: ["Ride","Wheels","Push","Handle"] },
      { name: "Road", taboos: ["Cars","Street","Traffic","Drive"] },
      { name: "Traffic light", taboos: ["Red","Green","Signal","Stop"] },
      { name: "Bridge", taboos: ["River","Cross","Road","Over"] },
      { name: "Park", taboos: ["Grass","Trees","Bench","Play"] },
      { name: "Zoo", taboos: ["Animals","Cages","Visit","Keeper"] },

      { name: "Lion", taboos: ["King","Jungle","Mane","Roar"] },
      { name: "Elephant", taboos: ["Trunk","Big","Grey","Tusk"] },
      { name: "Monkey", taboos: ["Banana","Climb","Tail","Jungle"] },
      { name: "Giraffe", taboos: ["Tall","Neck","Spots","Zoo"] },
      { name: "Rabbit", taboos: ["Ears","Hop","Carrot","Furry"] },
      { name: "Fish", taboos: ["Water","Swim","Fins","Tank"] },
      { name: "Butterfly", taboos: ["Wings","Colors","Fly","Garden"] },
      { name: "Bird", taboos: ["Wings","Fly","Nest","Feathers"] },
      { name: "Dolphin", taboos: ["Ocean","Swim","Jump","Smart"] },
      { name: "Whale", taboos: ["Big","Ocean","Water","Blow"] },

      { name: "Doctor", taboos: ["Hospital","Medicine","Sick","Nurse"] },
      { name: "Nurse", taboos: ["Doctor","Hospital","Care","Medicine"] },
      { name: "Police officer", taboos: ["Uniform","Law","Arrest","Station"] },
      { name: "Firefighter", taboos: ["Fire","Truck","Hose","Rescue"] },
      { name: "Chef", taboos: ["Cook","Kitchen","Food","Restaurant"] },
      { name: "Artist", taboos: ["Paint","Draw","Colors","Picture"] },
      { name: "Scientist", taboos: ["Lab","Experiment","Test","Study"] },
      { name: "Astronaut", taboos: ["Space","Rocket","Moon","Suit"] },
      { name: "Singer", taboos: ["Voice","Song","Music","Microphone"] },
      { name: "Dancer", taboos: ["Dance","Stage","Music","Moves"] },

      { name: "Movie", taboos: ["Film","Watch","Theatre","Actors"] },
      { name: "Cartoon", taboos: ["TV","Funny","Characters","Draw"] },
      { name: "Robot", taboos: ["Metal","Machine","Program","Automatic"] },
      { name: "Dinosaur", taboos: ["Extinct","Big","Fossils","Jurassic"] },
      { name: "Fairy", taboos: ["Wings","Magic","Dust","Tiny"] },
      { name: "Princess", taboos: ["Castle","Crown","Royal","Dress"] },
      { name: "Castle", taboos: ["King","Queen","Walls","Towers"] },
      { name: "Magic", taboos: ["Tricks","Wand","Spells","Wizard"] },
      { name: "Superhero", taboos: ["Powers","Cape","Save","Comic"] },
      { name: "Treasure", taboos: ["Chest","Gold","Pirate","Map"] }
    ];

    const sixWords = [
      "cat","dog","sun","moon","star","bed","bus","car","ball","doll",
      "toy","book","pen","bag","hat","cap","cup","milk","cake","jam",
      "egg","fish","bird","tree","leaf","rain","snow","park","swing","slide",
      "top","red","blue","big","small","happy","sad","run","jump","walk",
      "sit","stand","hand","foot","eye","nose","mouth","hair","face","home",
      "school","class","desk","chair","friend","baby","sister","brother","grandma","grandpa"
    ];

    // =============== STATE & HELPERS ===============

    let currentMode = "all"; // all, bollywood, mythology, nine, six
    let currentDeck = [];
    let shuffled = [];
    let index = 0;

    let timerSeconds = 30;
    let timerId = null;

    function shuffle(array) {
      const a = array.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function buildDeck(mode) {
      if (mode === "bollywood") return bollywoodCards.slice();
      if (mode === "mythology") return mythologyCards.slice();
      if (mode === "nine") return nineCards.slice();
      if (mode === "six") return sixWords.slice();
      // all
      return bollywoodCards.concat(mythologyCards, nineCards, sixWords.map(w => ({name:w, simple:true})));
    }

    function updateModeButtons() {
      document.getElementById("mode-all").classList.remove("active");
      document.getElementById("mode-bollywood").classList.remove("active");
      document.getElementById("mode-mythology").classList.remove("active");
      document.getElementById("mode-nine").classList.remove("active");
      document.getElementById("mode-six").classList.remove("active");

      if (currentMode === "bollywood") document.getElementById("mode-bollywood").classList.add("active");
      else if (currentMode === "mythology") document.getElementById("mode-mythology").classList.add("active");
      else if (currentMode === "nine") document.getElementById("mode-nine").classList.add("active");
      else if (currentMode === "six") document.getElementById("mode-six").classList.add("active");
      else document.getElementById("mode-all").classList.add("active");
    }

    function updateCard() {
      const nameEl = document.getElementById("card-name");
      const ul = document.getElementById("card-taboos");
      const counterEl = document.getElementById("counter");
      const noteEl = document.getElementById("note");

      if (!shuffled || shuffled.length === 0) {
        nameEl.textContent = "No cards.";
        ul.innerHTML = "";
        counterEl.textContent = "";
        noteEl.textContent = "";
        return;
      }

      const item = shuffled[index];

      if (currentMode === "six" || item.simple) {
        // simple mode: just one big word
        const word = item.name || item;
        nameEl.textContent = String(word).toUpperCase();
        ul.innerHTML = "";
        noteEl.textContent = "Read this word aloud!";
        counterEl.textContent = `Word ${index + 1} of ${shuffled.length}`;
      } else {
        // taboo-style card
        const card = item;
        nameEl.textContent = card.name;
        ul.innerHTML = "";
        card.taboos.forEach(t => {
          const li = document.createElement("li");
          li.textContent = t;
          ul.appendChild(li);
        });
        noteEl.textContent = "Describe this word without saying any of the taboo words!";
        counterEl.textContent = `Card ${index + 1} of ${shuffled.length}`;
      }
    }

    // =============== TIMER ===============

    function updateTimerDisplay() {
      const el = document.getElementById("timer-display");
      if (timerSeconds <= 0) {
        el.textContent = "TIME UP!";
        el.classList.add("red");
      } else {
        el.textContent = timerSeconds + " s";
        if (timerSeconds <= 5) el.classList.add("red");
        else el.classList.remove("red");
      }
    }

    function startTimer() {
      if (timerId) clearInterval(timerId);
      timerSeconds = 30;
      updateTimerDisplay();
      timerId = setInterval(() => {
        timerSeconds--;
        if (timerSeconds <= 0) {
          timerSeconds = 0;
          clearInterval(timerId);
          timerId = null;
        }
        updateTimerDisplay();
      }, 1000);
    }

    // =============== ACTIONS ===============

    function setMode(mode) {
      currentMode = mode;
      currentDeck = buildDeck(mode);
      shuffled = shuffle(currentDeck);
      index = 0;
      updateModeButtons();
      updateCard();
      startTimer();
    }

    function nextCard() {
      if (!shuffled || shuffled.length === 0) return;
      index++;
      if (index >= shuffled.length) {
        shuffled = shuffle(currentDeck);
        index = 0;
      }
      updateCard();
      startTimer();
    }

    function prevCard() {
      if (!shuffled || shuffled.length === 0) return;
      index--;
      if (index < 0) index = shuffled.length - 1;
      updateCard();
      startTimer();
    }

    // =============== INIT ===============

    window.addEventListener("load", () => {
      document.getElementById("next-btn").addEventListener("click", nextCard);
      document.getElementById("prev-btn").addEventListener("click", prevCard);

      document.getElementById("mode-all").addEventListener("click", () => setMode("all"));
      document.getElementById("mode-bollywood").addEventListener("click", () => setMode("bollywood"));
      document.getElementById("mode-mythology").addEventListener("click", () => setMode("mythology"));
      document.getElementById("mode-nine").addEventListener("click", () => setMode("nine"));
      document.getElementById("mode-six").addEventListener("click", () => setMode("six"));

      setMode("all"); // start with mixed deck
    });
  </script>
</body>
</html>
